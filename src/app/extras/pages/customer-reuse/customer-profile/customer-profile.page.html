<nb-card style="position: relative">
    <ngx-spinner [name]="'customer-profile'" bdColor="#e5e5e5" [style.opacity]="'0.8'" [zIndex]="999" size="medium" color="#3de2ab" type="ball-clip-rotate-multiple" [fullScreen]="false"></ngx-spinner>
    <nb-card-header>
        Customer Information
        <button (click)="useClose.emit()" style="float: right" nbButton size="tiny">
      <nb-icon icon="close"></nb-icon>
    </button>
    </nb-card-header>
    <nb-card-body>
        <div class="avatar">
            <div class="content">
                <img *ngIf="customer.avatar" [src]="customer.avatar" style="width: 90%; height: 90%; border-radius: 50%" />
                <b *ngIf="!customer.avatar">{{customer.fullname | key}}</b>
            </div>
            <b style="position: absolute; bottom: 0.5rem;">{{customer.fullname}}</b>
            <button nbButton size="small" shape="round" (click)="useEdit()" status="primary" style="position: absolute; bottom: 2.5rem; right: calc(50% - 3rem)">
              <nb-icon icon="edit-2-outline"></nb-icon>
            </button>
        </div>
        <nb-tabset fullWidth>
            <nb-tab tabTitle="Information" tabIcon="info-outline" responsive>

            </nb-tab>
            <nb-tab tabTitle="Deal" [tabIcon]="{icon: 'donate', pack: 'font-awesome'}" responsive>
                <ngx-spinner [name]="'account-item' + customer.id" bdColor="transparent" [zIndex]="999" size="medium" color="#3de2ab" type="ball-clip-rotate-multiple" [fullScreen]="false"></ngx-spinner>
                <app-reuse-deal-item *ngFor="let deal of customer.deals" [deal]="deal"></app-reuse-deal-item>
                <div *ngIf="customer.deals.length === 0" class="empty">
                    <span>
                <b>Don't have any deals</b>
              </span>
                </div>
            </nb-tab>
            <nb-tab tabTitle="Ticket" tabIcon="pricetags-outline" responsive>
                <ngx-spinner [name]="'account-item' + customer.id" bdColor="transparent" [zIndex]="999" size="medium" color="#3de2ab" type="ball-clip-rotate-multiple" [fullScreen]="false"></ngx-spinner>
                <app-reuse-ticket-item *ngFor="let ticket of customer.tickets"></app-reuse-ticket-item>
                <div *ngIf="customer.tickets.length === 0" class="empty">
                    <span>
                <b>Don't have any tickets</b>
              </span>
                </div>
            </nb-tab>
            <nb-tab tabTitle="Feedback" tabIcon="headphones-outline" responsive>
                <ngx-spinner [name]="'account-item' + customer.id" bdColor="transparent" [zIndex]="999" size="medium" color="#3de2ab" type="ball-clip-rotate-multiple" [fullScreen]="false"></ngx-spinner>
                <app-reuse-feedback-item *ngFor="let feedback of customer.tickets"></app-reuse-feedback-item>
                <!-- <div *ngIf="customer.feedbacs.length === 0" class="empty">
                <span>
              <b>Don't have any feedbacs</b>
            </span>
            </div> -->
            </nb-tab>
        </nb-tabset>
    </nb-card-body>
    <nb-card-footer class="text-center">
        <button (click)="useOpen(customer.facebook)" style="height: 40px; width: 40px;" size="tiny" outline shape="round" nbButton status="primary" class="mr-1">
        <svg style="width: 20px; color:white" nbPrefix xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Logo Facebook</title><path d='M480 257.35c0-123.7-100.3-224-224-224s-224 100.3-224 224c0 111.8 81.9 204.47 189 221.29V322.12h-56.89v-64.77H221V208c0-56.13 33.45-87.16 84.61-87.16 24.51 0 50.15 4.38 50.15 4.38v55.13H327.5c-27.81 0-36.51 17.26-36.51 35v42h62.12l-9.92 64.77H291v156.54c107.1-16.81 189-109.48 189-221.31z' fill-rule='evenodd'/></svg>
      </button>
        <button (click)="useOpen(customer.twitter)" style="height: 40px; width: 40px;" size="tiny" shape="round" nbButton outline status="success" class="mr-1">
        <svg style="width: 20px;" nbPrefix xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Logo Twitter</title><path d='M496 109.5a201.8 201.8 0 01-56.55 15.3 97.51 97.51 0 0043.33-53.6 197.74 197.74 0 01-62.56 23.5A99.14 99.14 0 00348.31 64c-54.42 0-98.46 43.4-98.46 96.9a93.21 93.21 0 002.54 22.1 280.7 280.7 0 01-203-101.3A95.69 95.69 0 0036 130.4c0 33.6 17.53 63.3 44 80.7A97.5 97.5 0 0135.22 199v1.2c0 47 34 86.1 79 95a100.76 100.76 0 01-25.94 3.4 94.38 94.38 0 01-18.51-1.8c12.51 38.5 48.92 66.5 92.05 67.3A199.59 199.59 0 0139.5 405.6a203 203 0 01-23.5-1.4A278.68 278.68 0 00166.74 448c181.36 0 280.44-147.7 280.44-275.8 0-4.2-.11-8.4-.31-12.5A198.48 198.48 0 00496 109.5z'/></svg>
      </button>
        <button (click)="useCopy(customer.skypeName)" style="height: 40px; width: 40px;" size="tiny" shape="round" nbButton outline status="info" class="mr-1">
        <svg style="width: 20px;" nbPrefix xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Logo Skype</title><path d='M467.16 303.6a205.69 205.69 0 004.9-45.15c0-116.32-95.69-210.7-213.79-210.7a221.83 221.83 0 00-36.52 3A123.58 123.58 0 00155.93 32C87.55 32 32 86.72 32 154.15A119.56 119.56 0 0049 216a211.16 211.16 0 00-4.32 42.35c0 116.44 95.69 210.7 213.67 210.7a214 214 0 0039.09-3.5A125.45 125.45 0 00356.07 480C424.57 480 480 425.28 480 357.85a118 118 0 00-12.84-54.25zM368 359c-9.92 13.76-24.51 24.73-43.41 32.43S283.36 403 257.69 403c-30.69 0-56.36-5.37-76.55-15.87a101 101 0 01-35.24-30.8c-9.11-12.83-13.66-25.66-13.66-38 0-7.7 3-14.35 8.87-19.95 5.84-5.37 13.42-8.17 22.29-8.17 7.35 0 13.65 2.1 18.79 6.42 4.9 4.08 9.1 10.15 12.48 18.08A108.09 108.09 0 00207 336.15q6.32 8.22 17.86 13.65c7.82 3.62 18.2 5.48 31 5.48 17.62 0 32.09-3.73 42.94-11.08 10.74-7.12 15.88-15.75 15.88-26.25 0-8.28-2.69-14.82-8.29-19.95-5.83-5.37-13.42-9.57-22.87-12.37-9.69-3-22.87-6.18-39.21-9.56-22.17-4.67-41-10.27-56-16.57-15.28-6.42-27.65-15.4-36.76-26.48-9.22-11.32-13.77-25.55-13.77-42.24a67.86 67.86 0 0114.47-42.58c9.57-12.25 23.46-21.82 41.55-28.35 17.74-6.53 38.86-9.8 62.66-9.8 19.14 0 35.83 2.22 49.83 6.42s25.91 10.15 35.36 17.38 16.34 14.93 20.77 23 6.66 16.22 6.66 24c0 7.46-2.92 14.35-8.76 20.3a29.65 29.65 0 01-21.94 9.1c-7.93 0-14.12-1.87-18.43-5.6-4-3.5-8.17-8.87-12.72-16.69-5.37-9.91-11.79-17.85-19.14-23.45-7.24-5.36-19.14-8.16-35.71-8.16-15.29 0-27.77 3-37 9-8.87 5.72-13.19 12.37-13.19 20.18a18.26 18.26 0 004.32 12.25 38.13 38.13 0 0012.72 9.57 80.14 90.14 0 0017.15 6.53c6 1.64 15.87 4.09 29.53 7.12 17.38 3.62 33.25 7.82 47.26 12.13 14.24 4.55 26.49 10 36.52 16.45a72.93 72.93 0 0124.16 25.09c5.72 10 8.64 22.63 8.64 37.1A75.09 75.09 0 01368 359z'/></svg>
      </button>
        <button (click)="usePhone(customer.phone)" style="height: 40px; width: 40px;" size="tiny" shape="round" nbButton outline status="success" class="mr-1">
          <svg style="width: 20px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="phone"><rect width="24" height="24" opacity="0"/><path d="M17.4 22A15.42 15.42 0 0 1 2 6.6 4.6 4.6 0 0 1 6.6 2a3.94 3.94 0 0 1 .77.07 3.79 3.79 0 0 1 .72.18 1 1 0 0 1 .65.75l1.37 6a1 1 0 0 1-.26.92c-.13.14-.14.15-1.37.79a9.91 9.91 0 0 0 4.87 4.89c.65-1.24.66-1.25.8-1.38a1 1 0 0 1 .92-.26l6 1.37a1 1 0 0 1 .72.65 4.34 4.34 0 0 1 .19.73 4.77 4.77 0 0 1 .06.76A4.6 4.6 0 0 1 17.4 22zM6.6 4A2.61 2.61 0 0 0 4 6.6 13.41 13.41 0 0 0 17.4 20a2.61 2.61 0 0 0 2.6-2.6v-.33L15.36 16l-.29.55c-.45.87-.78 1.5-1.62 1.16a11.85 11.85 0 0 1-7.18-7.21c-.36-.78.32-1.14 1.18-1.59L8 8.64 6.93 4z"/></g></g></svg>
      </button>
        <button (click)="useMail(customer.email)" style="height: 40px; width: 40px;" size="tiny" shape="round" nbButton outline status="warning" class="mr-1">
          <svg style="width: 20px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="email"><rect width="24" height="24" opacity="0"/><path d="M19 4H5a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zm-.67 2L12 10.75 5.67 6zM19 18H5a1 1 0 0 1-1-1V7.25l7.4 5.55a1 1 0 0 0 .6.2 1 1 0 0 0 .6-.2L20 7.25V17a1 1 0 0 1-1 1z"/></g></g></svg>
      </button>
        <button (click)="useOpen(customer.twitter)" style="height: 40px; width: 40px;" size="tiny" shape="round" nbButton outline status="success" class="mr-1">
        <svg style="width: 20px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="globe"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"/><path d="M22 12A10 10 0 0 0 12 2a10 10 0 0 0 0 20 10 10 0 0 0 10-10zm-2.07-1H17a12.91 12.91 0 0 0-2.33-6.54A8 8 0 0 1 19.93 11zM9.08 13H15a11.44 11.44 0 0 1-3 6.61A11 11 0 0 1 9.08 13zm0-2A11.4 11.4 0 0 1 12 4.4a11.19 11.19 0 0 1 3 6.6zm.36-6.57A13.18 13.18 0 0 0 7.07 11h-3a8 8 0 0 1 5.37-6.57zM4.07 13h3a12.86 12.86 0 0 0 2.35 6.56A8 8 0 0 1 4.07 13zm10.55 6.55A13.14 13.14 0 0 0 17 13h2.95a8 8 0 0 1-5.33 6.55z"/></g></g></svg>
      </button>
    </nb-card-footer>
</nb-card>
