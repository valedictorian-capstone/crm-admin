<nb-layout>
    <nb-layout-column style="padding: 0;">
        <app-nav></app-nav>
        <header>
            <img class="logo" src="assets/logo-white.png" />
            <app-breadcrumb></app-breadcrumb>
            <app-notification></app-notification>
            <app-user></app-user>
            <app-search></app-search>
            <app-add></app-add>
        </header>
        <app-content>
            <router-outlet></router-outlet>
        </app-content>
        <ng-template #globalCreatRef let-context let-ref="dialogRef">
            <app-reuse-customer-save *ngIf="context.type === 'customer'" [customer]="context.payload.customer" (useClose)="ref.close()"></app-reuse-customer-save>
            <app-reuse-customer-profile *ngIf="context.type === 'customer-profile'" [customer]="context.payload.customer" (useClose)="ref.close()"></app-reuse-customer-profile>
            <app-reuse-activity-save [deal]="context.payload.deal" [time]="context.payload.time" [inside]="context.payload.inside" [fixDeal]="context.payload.fixDeal" [activity]="context.payload.activity" *ngIf="context.type === 'activity'" (useClose)="ref.close()"></app-reuse-activity-save>
            <app-reuse-event-save [time]="context.payload.time" [event]="context.payload.event" *ngIf="context.type === 'event'" (useClose)="ref.close()"></app-reuse-event-save>
            <app-reuse-deal-save [stage]="context.payload.stage" [deal]="context.payload.deal" [inside]="context.payload.inside" [pipeline]="context.payload.pipeline" *ngIf="context.type === 'deal'" (useClose)="ref.close()"></app-reuse-deal-save>
            <app-reuse-note-save *ngIf="context.type === 'note'" [deal]="context.payload.deal" [inside]="context.payload.inside" [fixDeal]="context.payload.fixDeal" [note]="context.payload.note" (useClose)="ref.close()"></app-reuse-note-save>
            <app-reuse-role-save *ngIf="context.type === 'role'" [role]="context.payload.role" (useClose)="ref.close()"></app-reuse-role-save>
            <app-reuse-attachment-save *ngIf="context.type === 'attachment'" [deal]="context.payload.deal" [inside]="context.payload.inside" [fixDeal]="context.payload.fixDeal" (useClose)="ref.close()"></app-reuse-attachment-save>
            <app-reuse-employee-save *ngIf="context.type === 'employee'" [employee]="context.payload.employee" [isProfile]="context.payload.isProfile" (useClose)="ref.close()"></app-reuse-employee-save>
            <app-reuse-product-save *ngIf="context.type === 'product'" [product]="context.payload.product" (useClose)="ref.close()"></app-reuse-product-save>
            <app-reuse-import-data *ngIf="context.type === 'import'" [importType]="context.payload.importType" (useClose)="ref.close()"></app-reuse-import-data>
            <app-reuse-mail-sender *ngIf="context.type === 'mail'" [email]="context.payload.email" (useClose)="ref.close()"></app-reuse-mail-sender>
            <app-reuse-setting-profile *ngIf="context.type === 'setting-profile'" (useClose)="ref.close()"></app-reuse-setting-profile>
            <app-reuse-setting-password *ngIf="context.type === 'setting-password'" (useClose)="ref.close()"></app-reuse-setting-password>
        </ng-template>
    </nb-layout-column>
</nb-layout>