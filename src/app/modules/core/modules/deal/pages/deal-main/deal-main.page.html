<div class="crm-deal">
    <div class="crm-deal-header">
        <div class="crm-deal-navigation">
            <a class="crm-deal-navigation-item" (click)="useViewPipeline()" [nbTooltip]="'Process'" [nbTooltipPlacement]="'bottom'">
                <nb-icon pack="eva" icon="bar-chart-outline"></nb-icon>
            </a>
            <a class="crm-deal-navigation-item selected" [nbTooltip]="'Deal'" [nbTooltipPlacement]="'bottom'">
                <nb-icon pack="eva" icon="menu-outline"></nb-icon>
            </a>
        </div>
        <div class="crm-deal-plus">
            <button (click)="usePlus()" nbButton size="small" status="success">
      <nb-icon pack="eva" icon="plus"></nb-icon><b>Deal</b>
    </button>
        </div>
        <div class="crm-deal-actions">
            <div class="crm-deal-action">
                <a class="crm-deal-action-item" (click)="useReload()">
                    <nb-icon pack="eva" icon="sync-outline"></nb-icon>
                </a>
                <a class="crm-deal-action-item dropdown" nz-dropdown [nzDropdownMenu]="filter" [nzBackdrop]="false" [nzTrigger]="'click'" nzPlacement="bottomCenter">
                    <nb-icon class="icon-left" icon="funnel-outline"></nb-icon>
                    <b style="text-transform: capitalize;">{{status === '' ? 'all' : status}}</b>
                    <nb-icon class="icon-right" icon="arrow-down-outline"></nb-icon>
                </a>
                <a class="crm-deal-action-item mobile" nz-dropdown [nzDropdownMenu]="filter" [nzBackdrop]="false" [nzTrigger]="'click'" nzPlacement="bottomCenter">
                    <nb-icon pack="eva" icon="funnel-outline"></nb-icon>
                </a>
                <nz-dropdown-menu #filter="nzDropdownMenu">
                    <ul nz-menu style="border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;">
                        <li nz-menu-item (click)="status = ''; useFilter()" [ngStyle]="{'background': status === '' ? '#e6e6e6' : 'white'}" style="width: 200px; display: flex; justify-content: center; align-items: center;  font-weight: 600; padding: 1rem;">ALL</li>
                        <li nz-menu-item (click)="status = 'processing'; useFilter()" [ngStyle]="{'background': status === 'processing' ? '#e6e6e6' : 'white'}" style="width: 200px; display: flex; justify-content: center; align-items: center;  font-weight: 600; padding: 1rem;"
                            class="text-primary">PROCESSING</li>
                        <li nz-menu-item (click)="status = 'won'; useFilter()" [ngStyle]="{'background': status === 'won' ? '#e6e6e6' : 'white'}" style="width: 200px; display: flex; justify-content: center; align-items: center; font-weight: 600; padding: 1rem;" class="text-success">WON</li>
                        <li nz-menu-item (click)="status = 'lost'; useFilter()" [ngStyle]="{'background': status === 'lost' ? '#e6e6e6' : 'white'}" style="width: 200px; display: flex; justify-content: center; align-items: center; font-weight: 600; padding: 1rem;" class="text-danger">LOST</li>
                    </ul>
                </nz-dropdown-menu>
            </div>
        </div>
    </div>
    <div class="crm-deal-body">
        <div class="deals" nz-row>
            <div class="p-2 mb-2" *ngFor="let deal of filterDeals" nz-col [nzXs]="24" [nzSm]="12" [nzMd]="8" [nzLg]="8" [nzXl]="6" [nzXXl]="4">
                <app-deal-item [deal]="deal"></app-deal-item>
            </div>
        </div>
        <ngx-spinner [name]="'deal-list'" bdColor="transparent" [zIndex]="999" size="medium" color="#3de2ab" type="ball-clip-rotate-multiple" [fullScreen]="false"></ngx-spinner>
        <div class="empty" *ngIf="filterDeals.length === 0">
            <div class="text-center">
                <p style="font-weight: bold;">Dont't have any deal</p>
                <button (click)="usePlus()" nbButton size="small" status="success" outline>
        <nb-icon icon="donate" pack="font-awesome"></nb-icon>
        New Deal
      </button>
            </div>

        </div>
    </div>
</div>